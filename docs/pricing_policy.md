# 原価計算と割引に関する方針

## 食材単価
- 食材単価は `data/ingredient_prices.json` ファイルで一元管理されています。
- 基本的に、仕入れ価格に基づき定期的に見直しを行います。
- 単価は原則としてグラム(g)または個数(piece)あたりで定義されます。

## 料理原価の計算
- 各料理の原価は、`src/menu_definitions.py` で定義された使用食材リストと `data/ingredient_prices.json` の単価を基に算出されます (`src/cost_calculator.py`参照)。
- 計算式: `料理原価 = Σ (各食材の使用量 * 各食材の単価)`
- もし単価マスタに存在しない食材が定義されていた場合、現状のシステムでは警告が表示され、その食材のコストは0として計算されます。運用上、単価マスタの更新漏れがないか注意が必要です。

## コース原価の計算
- コース全体の原価は、コースに含まれる各料理の原価を単純に合計したものです。
- `コース原価 (割引前) = Σ (コース内各料理の原価)`

## 割引ルール
コースごとに特定の割引ルールが適用される場合があります。
- **スタンダード割引 (`standard`)**:
    - 割引前コース原価が5,000円以上の場合に適用されます。
    - 割引内容は、割引前原価の5%です。
- **プレミアム割引 (`premium`)**:
    - コースBに適用されます。
    - 条件なく、常に固定で500円が割引されます。
- **割引なし (`none`)**:
    - 上記以外のコースや、割引設定がない場合に適用されます。

最終的なコース原価は、割引額を差し引いて計算されます。
`最終コース原価 = コース原価 (割引前) - 割引額`